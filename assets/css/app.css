/* See the Tailwind configuration guide for advanced usage
   https://tailwindcss.com/docs/configuration */

@import "tailwindcss" source(none);
@source "../css";
@source "../js";
@source "../../lib/mydia_web";

/* A Tailwind plugin that makes "hero-#{ICON}" classes available.
   The heroicons installation itself is managed by your mix.exs */
@plugin "../vendor/heroicons";

/* daisyUI Tailwind Plugin. You can update this file by fetching the latest version with:
   curl -sLO https://github.com/saadeghi/daisyui/releases/latest/download/daisyui.js
   Make sure to look at the daisyUI changelog: https://daisyui.com/docs/changelog/ */
@plugin "daisyui";

/* Mydia custom theme */
@plugin "./mydiaTheme.ts";

/* Add variants based on LiveView classes */
@custom-variant phx-click-loading (.phx-click-loading&, .phx-click-loading &);
@custom-variant phx-submit-loading (.phx-submit-loading&, .phx-submit-loading &);
@custom-variant phx-change-loading (.phx-change-loading&, .phx-change-loading &);

/* Use the data attribute for dark mode  */
@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

/* Make LiveView wrapper divs transparent for layout */
[data-phx-session],
[data-phx-teleported-src] {
  display: contents;
}

/* Alpine.js x-cloak - prevents flash of unstyled content */
[x-cloak] {
  display: none !important;
}

/* This file is for your main application CSS */

/* Hide badges when selection mode is active */
.selection-mode .hide-on-select {
  display: none !important;
}

/* Show selection indicators when in selection mode */
.selection-mode .selection-indicator {
  display: block !important;
}

/* Disable navigation links when in selection mode */
.selection-mode a {
  pointer-events: none;
}

/* Selection indicator for grid items - using data attribute for LiveView compatibility */
.media-grid-item[data-selected="true"] {
  outline: 4px solid oklch(var(--p));
  outline-offset: 2px;
  border-radius: 1rem;
}

/* Selection indicator for list items */
.media-list-item[data-selected="true"] {
  background-color: oklch(var(--p) / 0.15) !important;
  border-left: 4px solid oklch(var(--p)) !important;
}

/* Non-selected list items get alternating backgrounds */
.media-list-item:not([data-selected="true"]):nth-child(odd) {
  background-color: oklch(var(--b1));
}

.media-list-item:not([data-selected="true"]):nth-child(even) {
  background-color: oklch(var(--b2) / 0.3);
}
